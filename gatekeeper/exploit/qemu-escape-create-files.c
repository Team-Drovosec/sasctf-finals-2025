#include "ministd.h"
#include "trusted_lib_api.h"
#include <stdint.h>

ENTRY_POINT_ATTR void start()
{
    const uint8_t data[0x100];
    memset((void*)data, 'A', sizeof(data));
    for (uint32_t i = 0; i < 0x10; ++i) {
        uint64_t public_handle = TRUSTED_CALL(create_file_plain, data, sizeof(data));
        TRUSTED_CALL_VOID(mini_printf, "Created file with public handle: 0x%llx\n", public_handle);
    }

    ENTRY_POINT_END();
}
